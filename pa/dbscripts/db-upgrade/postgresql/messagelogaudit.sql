DROP TABLE IF EXISTS MESSAGES_LOG_AUDIT;

CREATE TABLE MESSAGES_LOG_AUDIT
(
	IDENTIFIER SERIAL NOT NULL,
	STUDY_PROTOCOL_IDENTIFIER BIGINT NOT NULL,
	MESSAGE_LOG_IDENTIFIER BIGINT,
	DATE_LAST_CREATED TIMESTAMP,
	USER_LAST_CREATED VARCHAR(200),
	DATE_LAST_UPDATED TIMESTAMP,
	USER_LAST_UPDATED VARCHAR(200),
	PRIMARY KEY (IDENTIFIER) 
) ;

ALTER TABLE MESSAGES_LOG_AUDIT ADD CONSTRAINT FK_MESSAGES_LOG_AUDIT_MESSAGES_LOG
FOREIGN KEY (MESSAGE_LOG_IDENTIFIER) REFERENCES MESSAGES_LOG (IDENTIFIER)
ON DELETE RESTRICT;