CREATE SEQUENCE CSM_FILTER_CLAUSE_SEQ;
CREATE TABLE CSM_FILTER_CLAUSE (
    FILTER_CLAUSE_ID int8 not null default nextval('CSM_FILTER_CLAUSE_SEQ'),
    CLASS_NAME character varying(100) NOT NULL,
    FILTER_CHAIN character varying(2000) NOT NULL,
    TARGET_CLASS_NAME character varying(100) NOT NULL,
    TARGET_CLASS_ATTRIBUTE_NAME character varying(100) NOT NULL,
    TARGET_CLASS_ATTRIBUTE_TYPE character varying(100) NOT NULL,
    TARGET_CLASS_ALIAS character varying(100),
    TARGET_CLASS_ATTRIBUTE_ALIAS character varying(100),
    GENERATED_SQL character varying(4000) NOT NULL,
    APPLICATION_ID int8 NOT NULL,
    UPDATE_DATE DATE NOT NULL default current_date,
    PRIMARY KEY(FILTER_CLAUSE_ID)
);

ALTER TABLE CSM_FILTER_CLAUSE ADD CONSTRAINT FK_APPLICATION_FILTER_CLAUSE FOREIGN KEY (APPLICATION_ID) REFERENCES CSM_APPLICATION (APPLICATION_ID) ON DELETE CASCADE;
